!function(e){e.savantForm=function(t,s){var n=this;n.$el=e(t),n.el=t,n.$el.data("savantForm",n),n.init=function(){n.options=e.extend({},e.savantForm.defaultOptions,s),e("form.savant-form").submit(function(){document.cookie="savant=; expires=Thu, 01 Jan 1970 00:00:00 UTC",document.cookie="savantcheckboxes=; expires=Thu, 01 Jan 1970 00:00:00 UTC",document.cookie="savantradios=; expires=Thu, 01 Jan 1970 00:00:00 UTC"});var t=n.getCookie("savant"),o=n.getCookie("savantcheckboxes"),a=n.getCookie("savantradios");""!=t&&n.restoreFields(t),""!=o&&n.restoreCheckboxes(o),""!=a&&n.restoreRadios(a),e(".savant-form input, .savant-form textarea").focus(function(){n.persistFields(),n.persistCheckboxes(),n.persistRadios()}),e(".savant-form input, .savant-form textarea").focusout(function(){n.persistFields(),n.persistCheckboxes(),n.persistRadios()}),e(".savant-form select").change(function(){n.persistFields(),n.persistCheckboxes(),n.persistRadios()})},n.convertFormToJSON=function(t){var s=e(t).serializeArray(),n={};return e.each(s,function(){n[this.name]=this.value||""}),JSON.stringify(n)},n.setCookie=function(e,t){var s=new Date;s.setTime(s.getTime()+1e3*n.options.expiresin);var o="expires="+s.toUTCString();document.cookie=e+"="+t+"; "+o},n.getCookie=function(e){for(var e=e+"=",t=document.cookie.split(";"),s=0;s<t.length;s++){for(var n=t[s];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(e))return n.substring(e.length,n.length)}return""},n.persistFields=function(){var e=n.convertFormToJSON(".savant-form");n.setCookie("savant",e)},n.restoreFields=function(t){var s=e.parseJSON(t);e.each(s,function(t,s){e('[name="'+t+'"]').hasClass("savant-skip")||e('[name="'+t+'"]').val(s)})},n.persistCheckboxes=function(){var t=JSON.stringify(e(".savant-form input[type='checkbox']").map(function(){return this.checked}).get());n.setCookie("savantcheckboxes",t)},n.restoreCheckboxes=function(t){for(var s=e.parseJSON(t),n=e('.savant-form input[type="checkbox"]').toArray(),o=0;o<s.length;o++)s[o]&&e(n[o]).attr("checked",!0)},n.persistRadios=function(){var t=JSON.stringify(e(".savant-form input[type='radio']").map(function(){return this.checked}).get());n.setCookie("savantradios",t)},n.restoreRadios=function(t){for(var s=e.parseJSON(t),n=e('.savant-form input[type="radio"]').toArray(),o=0;o<s.length;o++)s[o]&&e(n[o]).attr("checked",!0)},n.init()},e.savantForm.defaultOptions={expiresin:300},e.fn.savantForm=function(t){return this.each(function(){new e.savantForm(this,t)})}}(jQuery);