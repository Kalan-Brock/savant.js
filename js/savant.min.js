!function(e){e.savantForm=function(t,s){var a=this;a.$el=e(t),a.el=t,a.$el.data("savantForm",a),a.init=function(){a.options=e.extend({},e.savantForm.defaultOptions,s),e("form.savant-form").submit(function(){document.cookie="savant=; expires=Thu, 01 Jan 1970 00:00:00 UTC",document.cookie="savantcheckboxes=; expires=Thu, 01 Jan 1970 00:00:00 UTC",document.cookie="savantradios=; expires=Thu, 01 Jan 1970 00:00:00 UTC"});var t=a.getCookie("savant"),n=a.getCookie("savantcheckboxes"),o=a.getCookie("savantradios");""!=t&&a.restoreFields(t),""!=n&&a.restoreCheckboxes(n),""!=o&&a.restoreRadios(o),e(".savant-form input, .savant-form textarea").focus(function(){a.persistFields(),a.persistCheckboxes(),a.persistRadios()}),e(".savant-form input, .savant-form textarea").focusout(function(){a.persistFields(),a.persistCheckboxes(),a.persistRadios()}),e(".savant-form input, .savant-form textarea, .savant-form select").change(function(){a.persistFields(),a.persistCheckboxes(),a.persistRadios()}),e(".savant-form input").keyup(function(){a.persistFields(),a.persistCheckboxes(),a.persistRadios()})},a.convertFormToJSON=function(t){var s=e(t).serializeArray(),a={};return e.each(s,function(){a[this.name]=this.value||""}),JSON.stringify(a)},a.setCookie=function(e,t){var s=new Date;s.setTime(s.getTime()+1e3*a.options.expiresin);var n="expires="+s.toUTCString();document.cookie=e+"="+t+"; "+n},a.getCookie=function(e){for(var e=e+"=",t=document.cookie.split(";"),s=0;s<t.length;s++){for(var a=t[s];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(e))return a.substring(e.length,a.length)}return""},a.persistFields=function(){var e=a.convertFormToJSON(".savant-form");a.setCookie("savant",e)},a.restoreFields=function(t){var s=e.parseJSON(t);e.each(s,function(t,s){e('[name="'+t+'"]').hasClass("savant-skip")||e('[name="'+t+'"]').val(s)})},a.persistCheckboxes=function(){var t=JSON.stringify(e(".savant-form input[type='checkbox']").map(function(){return this.checked}).get());a.setCookie("savantcheckboxes",t)},a.restoreCheckboxes=function(t){for(var s=e.parseJSON(t),a=e('.savant-form input[type="checkbox"]').toArray(),n=0;n<s.length;n++)s[n]&&!e(a[n]).hasClass("savant-skip")&&e(a[n]).attr("checked",!0)},a.persistRadios=function(){var t=JSON.stringify(e(".savant-form input[type='radio']").map(function(){return this.checked}).get());a.setCookie("savantradios",t)},a.restoreRadios=function(t){for(var s=e.parseJSON(t),a=e('.savant-form input[type="radio"]').toArray(),n=0;n<s.length;n++)s[n]&&!e(a[n]).hasClass("savant-skip")&&e(a[n]).attr("checked",!0)},a.init()},e.savantForm.defaultOptions={expiresin:300},e.fn.savantForm=function(t){return this.each(function(){new e.savantForm(this,t)})}}(jQuery);